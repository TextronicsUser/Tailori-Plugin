!function(t,e,i,s){"use strict";var n="tailori";function a(e,i){this.element=e,this.$element=t(e),this.options=i,this.metadata=this.$element.data(n.toLowerCase()+"-options"),this._name=n,this.init()}function o(t){if(t=t.trim().toLowerCase(),(t=d[t]||t).match(/^#([0-9a-f]{3})$/i))return t.replace("#","");if(t.match(/^#([0-9a-f]{6})$/i))return t.replace("#","");var e=t.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+.*\d*)\s*\)$/i)||t.match(/^rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i);if(e)return r(e[1])+r(e[2])+r(e[3]);var i=t.match(/^rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)$/i);return i?r(i[1])+r(i[2])+r(i[3]):0==t.indexOf("hsl")?o(function(t){"string"==typeof t&&(t=t.match(/(\d+(\.\d+)?)/g));var e,i,n,a,o,r=t[0]/360,d=t[1]/100,h=t[2]/100,c=t[3]===s?1:t[3];if(0==d)a=[o=Math.round(255*h),o,o,c];else{e=2*h-(i=h<.5?h*(1+d):h+d-h*d),a=[0,0,0];for(var l=0;l<3;l++)(n=r+1/3*-(l-1))<0&&n++,n>1&&n--,o=6*n<1?e+6*(i-e)*n:2*n<1?i:3*n<2?e+(i-e)*(2/3-n)*6:e,a[l]=Math.round(255*o)}return a.push(c),a}(t)):void 0}function r(t){return("0"+parseInt(t).toString(16)).slice(-2)}a.prototype={_Url:"",_ImageUrl:"",_Links:new Object,_ReverseLinks:new Object,_DoubleLinks:new Object,_BlockedFeatures:new Object,_BlockedDetails:new Object,_BlockedFabrics:new Object,_FalseImages:new Object,_CurrentBlockedFeatures:Array(),_CurrentBlockedDetails:Array(),_CurrentBlockedFabrics:Array(),_RenderObject:new Object,_Alignments:new Array,_CurrentAlignmentIndex:0,_Swatch:"",_Color:"",_LSwatch:"",_CurrentDetail:"",_CurrentContrastNo:"",_CurrentOption:"",_MonogramPlacement:"",_MonogramPlacementName:"",_MonogramColor:"",_MonogramFont:"",_MonogramText:"",_MonogramCordinates:"",_MonogramColorHex:"",_MonogramFontName:"",_MonogramAlignment:"FACE",_IsMonoBlock:!1,_MPlacement:new Array,_MFont:new Array,_MColor:new Array,_SpecificImageSource:!1,_SpecificRender:!1,_SpecificRenderClick:!1,_SpecificDisplay:new Object,_SpecificLink:new Object,_SpecificDetails:new Array,_SpecificViewOf:"",_IsSpecific:!1,_ProductData:[],_AddOnData:[],_LibConfig:new Object,_IsAlignmentClick:!1,_SelectedAlignment:"FACE",_IsCustomizeOptions:!1,_CustomizeOptions:[],_SaveLookAlignmentFlag:!1,_ClientName:"ClientName",_NoCache:!1,_IsModelImage:!1,_ModelId:"",_CachePath:"",_CDNPath:"",_S3Path:"",iscdn:"",_worker:null,_AlignmentsUrl:[],_CombineUrls:[],defaults:{Product:"Men-Shirt",ImageSource:"",SpecificImageSource:"",ProductTemplate:"",OptionTemplate:"",OptionsPlace:"",IsOptionVisible:!1,FeatureTemplate:"",FeaturesPlace:"",MonogramTemplate:"",IsAddOnOption:!1,AddOnOptionTemplate:"",AddOnOptionsPlace:"",Swatch:"",ServiceUrl:"http://localhost:57401",AutoSpecific:!0,AutoAlignment:!0,AutoThread:!0,ImageSize:"",ImageFormat:"png",CombineJsPath:"data:text/javascript;base64,b25tZXNzYWdlID0gZnVuY3Rpb24oZSkgewoJdmFyIHVybHMgPSBlLmRhdGE7CglpZih0eXBlb2YgdXJscyA9PSAnb2JqZWN0JyAmJiB1cmxzLmxlbmd0aCA+IDApewoJCQoJCXZhciByZXF1ZXN0ID0gbmV3IFhNTEh0dHBSZXF1ZXN0KCk7CgkJCgkJdmFyIGhlaWdodCA9IDA7CgkJdmFyIHdpZHRoID0gMDsKCQkKCQlsb2FkVXJsKDAsdXJscyk7Cgl9Cn0KCmZ1bmN0aW9uIGxvYWRVcmwoYyx1cmxzKXsKCQoJdmFyIHhociA9IG5ldyBYTUxIdHRwUmVxdWVzdCgpOwoJCgl4aHIub3BlbignR0VUJyx1cmxzW2NdLnJlcGxhY2UoJ3dfMTAwMCcsJ3dfMTIwMCcpICwgdHJ1ZSk7CgoJeGhyLnJlc3BvbnNlVHlwZSA9ICdhcnJheWJ1ZmZlcic7CgoJeGhyLm9ubG9hZCA9IGZ1bmN0aW9uKGUpIHsKCSAgaWYgKHRoaXMuc3RhdHVzID09IDIwMCkgewoJCXZhciB1SW50OEFycmF5ID0gbmV3IFVpbnQ4QXJyYXkodGhpcy5yZXNwb25zZSk7CgkJdmFyIGkgPSB1SW50OEFycmF5Lmxlbmd0aDsKCQl2YXIgYmluYXJ5U3RyaW5nID0gbmV3IEFycmF5KGkpOwoJCXdoaWxlIChpLS0pCgkJewoJCSAgYmluYXJ5U3RyaW5nW2ldID0gU3RyaW5nLmZyb21DaGFyQ29kZSh1SW50OEFycmF5W2ldKTsKCQl9CgkJdmFyIGRhdGEgPSBiaW5hcnlTdHJpbmcuam9pbignJyk7CgoJCS8vdmFyIGJhc2U2NCA9IGJ0b2EoZGF0YSk7CgkJCgkJLy9wb3N0TWVzc2FnZSgiZGF0YTppbWFnZS9wbmc7YmFzZTY0LCIrYmFzZTY0KTsKCQlwb3N0TWVzc2FnZShkYXRhKTsKCQkKCQljKys7CgkgIAoJCWlmKGMgPCB1cmxzLmxlbmd0aCl7CgkJCWxvYWRVcmwoYyx1cmxzKQoJCX0KCQkKCSAgfQoJICAKCSAgLy9wb3N0TWVzc2FnZSgiaGVsbG8iKTsKCX07CgoJeGhyLnNlbmQoKTsKfQ==",CombineImageScale:.4,OnProductChange:"",OnProductDetailChange:"",OnOptionChange:"",OnFeatureChange:"",OnContrastChange:"",OnRenderImageChange:"",OnLibConfigChange:"",OnCombineImageLoad:"",CombineImageBackgroudColor:"#FFFFFF"},init:function(){return console.info("Textronic jquery.tds.js v-2.16 [06d01m21y/l2.15] (Path)"),this.config=t.extend({},this.defaults,this.options,this.metadata),this._Swatch=this.Option("Swatch"),this._preConfiguration(),this},_preConfiguration:function(e){var s=i.createElement("canvas");s.setAttribute("id","Tds-canvas"),s.setAttribute("style","display:none;position:absolute"),i.body.appendChild(s),t.ajax({url:this.Option("ServiceUrl")+"/api/GetPath?key="+this.Option("Key"),context:this,dataType:"json",success:function(t){var e=this;e._CachePath=t.Path,e._CDNPath=t.Path,e._ClientName=t.ClientName,e.iscdn=t.iscdn,"true"==this.iscdn?(e._CDNPath=t.Path,e._setCofiguration(e.Option("Product"))):(e._S3Path=t.Path,e._CacheS3Path=t.Path,e._setCofiguration(e.Option("Product")))},fail:function(){console.error("Path not found.")}})},_setCofiguration:function(e){""!=this.Option("ProductTemplate")&&(t.views.settings.delimiters("[%","%]"),t.ajax({url:"true"===this.iscdn?this._CDNPath+"/files/v1/"+this._ClientName+"/ConfiguartionCache/"+e.trim().replace(/\s+/g,"_")+".json/json-file":this._S3Path+"/"+this._ClientName+"/ConfiguartionCache/"+e.trim().replace(/\s+/g,"_")+".json",context:this,dataType:"json",success:function(i){var n=this;if(n._Alignments=i.Alignments,n._SpecificDisplay=i.SpecificDisplay,n._SpecificLink=i.SpecificLink,n._SpecificDetails=i.SpecificDetails,n._ProductData=i.Product,n._ContrastData=i.ContrastFabric,n._LibConfig=i.LibraryConfig,n._MPlacement=i.MonogramPlacement,n._MFont=i.MonogramFont,n._MColor=i.MonogramColor,n._ModelId=i.ModelId,n._CurrentAlignmentIndex=t.inArray(n._SelectedAlignment,n._Alignments),this.Option("AddOnOption")){var a=this.Option("AddOnOptionTemplate");if(""==a)return;var o=0;t.each(n._ProductData,(function(t,e){n._ProductData[t].IsAddOn;n._ProductData[t].IsAddOn&&(n._AddOnData[o]=n._ProductData[t],o++)}));let e=n._ProductData;n._productListApnd(e);var r=n.Option("AddOnOptionsPlace"),d=t.templates(a).render({AddOn:n._AddOnData});t(r).html(d);for(var h=0;h<this._ProductData.length;h++)1==this._ProductData[h].IsAddOn&&(this.$element.find("[data-tds-key='"+this._ProductData[h].Id+"']").remove(),this.$element.find("[data-tds-product='"+this._ProductData[h].Id+"']").remove())}else{let t=n._ProductData;n._productListApnd(t)}for(var c=0;c<this._Alignments.length;c++)"face"==this._Alignments[c].Name.toLowerCase()&&(this._CurrentAlignmentIndex=c);for(h=0;h<this._ProductData.length;h++)"True"==this._ProductData[h].IsBlock&&(t("[data-tds-key='"+this._ProductData[h].Id+"']").remove(),t("[data-tds-product='"+this._ProductData[h].Id+"']").remove());t("[data-tds-hide='true']").hide();n.Option("MonogramTemplate");t("body").on("click","[data-tds-element]",(function(e){var i,s=!1;if(t(this).hasClass("block")||n._CurrentBlockedFeatures.indexOf(t(this).attr("data-tds-element"))>-1||n._CurrentBlockedDetails.indexOf(t(this).attr("data-tds-key"))>-1)console.error("feature is block");else if(t(this).attr("data-tds-fabric")){n._SpecificViewOf=t(this).attr("data-tds-key");for(var a=0;a<n._LibConfig.length;a++){if(n._LibConfig[a].Options.indexOf(n._SpecificViewOf)>-1){for(var o=0;o<n._LibConfig[a].Options.length;o++)n._RenderObject[n._LibConfig[a].Options[o]].Swatch=t(this).attr("data-tds-fabric");n._LibConfig[a].Swatch=t(this).attr("data-tds-fabric")}}n._createRenderObject(n._SpecificViewOf,t(this).attr("data-tds-element")),n._SpecificImageSource=!1}else for(n._SpecificViewOf=t(this).attr("data-tds-key"),n._createRenderObject(n._SpecificViewOf,t(this).attr("data-tds-element")),n._SpecificImageSource=!1,c=0;c<n._LibConfig.length;c++)n._LibConfig[c].Options.indexOf(n._SpecificViewOf)>-1&&(s=!0);s?"function"==typeof(i=n.Option("OnLibConfigChange"))&&i.call(this,t(this).data("tds-key"),t(this).data("tds-element")):"function"==typeof(i=n.Option("OnFeatureChange"))&&i.call(this,t(this).data("tds-element"))})),t("body").on("click","[data-tds-option]",(function(e){e.stopPropagation();var i=t(this).data("tds-key"),a=t(this).data("tds-option");n._CurrentOption=a;var o=n.Option("FeatureTemplate"),r=n.Option("FeaturesPlace");if(""!=o&&""!=r&&i!==s&&""!==i&&a!==s&&""!==a){for(var d=null,h=0;h<n._ProductData.length;h++)if(n._ProductData[h].Id==i){if("contrast"==a){d=n._ProductData[h].Contrasts;break}for(var c=0;c<n._ProductData[h].Options.length;c++)if(n._ProductData[h].Options[c].Id==a){d=n._ProductData[h].Options[c].Features;break}}if(null!=d){var l=t.templates(o).render({Features:d});if(t(r).html(l),n._IsCustomizeOptions&&n._CustomizeOptions[0].length>0){for(var _=0;_<n._CustomizeOptions[0].length;_++)t("[data-tds-element='"+n._CustomizeOptions[0][_]+"']").addClass("selected");for(var u=0;u<d.length;u++)t("[data-tds-element='"+d[u].Id+"']").hasClass("selected")?t("[data-tds-element='"+d[u].Id+"']").removeClass("selected"):t("[data-tds-element='"+d[u].Id+"']").remove()}}}t("[data-tds-hide='true']").hide();var f=n.Option("OnOptionChange");"function"==typeof f&&f.call(this,t(this).data("tds-option"),n._RenderObject[i].Id)})),t("body").on("click","[data-tds-product]",(function(){if(this._CurrentOption=n._RenderObject[t(this).data("tds-product")].OptionId,n.Option("IsOptionVisible")){var e=t(this).data("tds-product"),i=n.Option("OptionTemplate"),a=n.Option("OptionsPlace");if(""!=i&&""!=a&&e!==s&&""!==e){for(var o=[],r=0;r<n._ProductData.length;r++)if(n._ProductData[r].Id==e){o=t.merge([],n._ProductData[r].Options),n._ProductData[r].Contrasts.length>0&&o.push({Id:"tds-contrast",Name:"Contrast",DataAttr:" data-tds-option='contrast' data-tds-key='"+e+"'"});break}if(null!=o)if(o.length>1){var d=t.templates(i).render({Options:o});if(t(a).html(d),n._IsCustomizeOptions&&n._CustomizeOptions[1].length>0){for(var h=0;h<n._CustomizeOptions[1].length;h++)t("[data-tds-option='"+n._CustomizeOptions[1][h]+"']").addClass("selected");for(var c=0;c<o.length;c++)t("[data-tds-option='"+o[c].Id+"']").hasClass("selected")?t("[data-tds-option='"+o[c].Id+"']").removeClass("selected"):t("[data-tds-option='"+o[c].Id+"']").remove()}}else{if(null!=(u=o[0].Features)){var l=n.Option("FeatureTemplate"),_=n.Option("FeaturesPlace");d=t.templates(l).render({Features:u});if(t(_).html(d),n._IsCustomizeOptions&&n._CustomizeOptions[0].length>0){for(h=0;h<n._CustomizeOptions[0].length;h++)t("[data-tds-element='"+n._CustomizeOptions[0][h]+"']").addClass("selected");for(c=0;c<u.length;c++)t("[data-tds-element='"+u[c].Id+"']").hasClass("selected")?t("[data-tds-element='"+u[c].Id+"']").removeClass("selected"):t("[data-tds-element='"+u[c].Id+"']").remove()}}}}}else{e=t(this).data("tds-product"),l=n.Option("FeatureTemplate"),_=n.Option("FeaturesPlace");if(""!=l&&""!=_&&e!==s&&""!==e){var u=[];for(r=0;r<n._ProductData.length;r++)if(n._ProductData[r].Id==e)for(var f=0;f<n._ProductData[r].Options.length;f++){u=u.concat(n._ProductData[r].Options[f].Features);break}if(null!=u){d=t.templates(l).render({Features:u});if(t(_).html(d),n._IsCustomizeOptions&&n._CustomizeOptions[0].length>0){for(h=0;h<n._CustomizeOptions[0].length;h++)t("[data-tds-element='"+n._CustomizeOptions[0][h]+"']").addClass("selected");for(c=0;c<u.length;c++)t("[data-tds-element='"+u[c].Id+"']").hasClass("selected")?t("[data-tds-element='"+u[c].Id+"']").removeClass("selected"):t("[data-tds-element='"+u[c].Id+"']").remove()}}}}t("[data-tds-hide='true']").hide();var g=n.Option("OnProductDetailChange");"function"==typeof g&&g.call(this,t(this).data("tds-product"),n._RenderObject[t(this).data("tds-product")].OptionId,n._RenderObject[t(this).data("tds-product")].Id)})),t("body").on("click","[data-tds-contrast]",(function(e){var i=t(this).attr("data-tds-key"),s=t(this).attr("data-tds-contrast");"no contrast"==n._ProductData.filter((function(t){if(t.Id===i)return t}))[0].Contrasts[s].Name.toLowerCase()||"none"==n._ProductData.filter((function(t){if(t.Id===i)return t}))[0].Contrasts[s].Name.toLowerCase()?(n._RenderObject[i].Contrast={CSwatch:"",CColor:"",CNo:""},n._createUrl(n._RenderObject,!0)):n._setContrast(i,s);var a=n.Option("OnContrastChange");"function"==typeof a&&a.call(this)})),t("body").on("click","[data-tds-alignment]",(function(){n._changeAlignment(t(this))})),n._linkingBlocking();var l=n.Option("OnProductChange");"function"==typeof l&&l.call(this,e)},fail:function(){}}))},_createRenderObject:function(e,i){var n=this,a=!1,o=new Array,r="";if(e===s){var d=new Array;if(""!=this.Swatch)for(e=0;e<this._LibConfig.length;e++)if(!(this._LibConfig[e].Name.toLowerCase().indexOf("waist")>-1||this._LibConfig[e].Name.toLowerCase().indexOf("trouser")>-1||this._LibConfig[e].Name.toLowerCase().indexOf("button holes")>-1))for(var h=0;h<this._LibConfig[e].Options.length;h++)d.push(this._LibConfig[e].Options[h]);for(var c=new Array,l=0;l<n._LibConfig.length;l++)n._LibConfig[l]!=s&&c.push(n._LibConfig[l].Name.toLowerCase());for(var _=0;_<this._ProductData.length;_++)if(this._ProductData[_].Name.toLowerCase().indexOf("buttons")>-1&&c.indexOf(this._ProductData[_].Name.toLowerCase())>-1?(this._ProductData[_].Options[0].Features[0].Name.toLowerCase(),o.push(this._LibConfig[c.indexOf(this._ProductData[_].Name.toLowerCase())].Options),a=!0,this._RenderObject[this._ProductData[_].Id]={Id:this._ProductData[_].Options[0].Features[0].Id,LongId:parseInt(this._ProductData[_].Options[0].Features[0].Id,16),OptionId:this._ProductData[_].Options[0].Id,Alignment:this._ProductData[_].Options[0].Features[0].Alignment,FeatureAlignments:this._ProductData[_].Options[0].Features[0].FeatureAlignments,Swatch:r,Color:"",Contrast:{CSwatch:"",CColor:"",CNo:""},OrderNo:this._ProductData[_].Options[0].Features[0].DrapeOrderNo}):(r=d.indexOf(this._ProductData[_].Id)>-1?"":this._Swatch,this._RenderObject[this._ProductData[_].Id]={Id:this._ProductData[_].Options[0].Features[0].Id,LongId:parseInt(this._ProductData[_].Options[0].Features[0].Id,16),OptionId:this._ProductData[_].Options[0].Id,Alignment:this._ProductData[_].Options[0].Features[0].Alignment,FeatureAlignments:this._ProductData[_].Options[0].Features[0].FeatureAlignments,Swatch:r,Color:"",Contrast:{CSwatch:"",CColor:"",CNo:""},OrderNo:this._ProductData[_].Options[0].Features[0].DrapeOrderNo}),this._BlockedDetails.hasOwnProperty(this._ProductData[_].Options[0].Features[0].Id))for(var u=0;u<this._BlockedDetails[this._ProductData[_].Options[0].Features[0].Id].length;u++){var f=this._BlockedDetails[this._ProductData[_].Options[0].Features[0].Id][u];-1===this._CurrentBlockedDetails.indexOf(f)&&this._CurrentBlockedDetails.push(f),t("[data-tds-key='"+f+"']").addClass("block")}}else if(""!==e){var g=this._RenderObject[e].Id;if(this._BlockedFeatures.hasOwnProperty(this._RenderObject[g]))for(var m in this._BlockedFeatures[this._RenderObject[g].Id]){var p=this._CurrentBlockedFeatures[this._RenderObject[e].Id][m];this._CurrentBlockedFeatures.pop(p),t("[data-tds-element='"+p+"']").removeClass("block")}if(this._BlockedDetails.hasOwnProperty(g))for(var u in this._BlockedDetails[g]){f=this._BlockedDetails[g][u];this._CurrentBlockedDetails.pop(f),n._ProductData.filter((function(t){if(t.Id===f)return t}))[0].Name.toLowerCase().indexOf(this._MonogramPlacementName.toLowerCase())>-1&&(this._IsMonoBlock=!1),t("[data-tds-key='"+f+"']").removeClass("block")}for(var C="",O="",b=0;b<this._ProductData.length;b++)if(this._ProductData[b].Id==e){C=this._ProductData[b].Name,this._ProductData[b].Id;for(var I=0;I<this._ProductData[b].Options.length;I++)for(var k=0;k<this._ProductData[b].Options[I].Features.length;k++)if(this._ProductData[b].Options[I].Features[k].Id==i){if(this.Option("AutoAlignment")&&!this._SaveLookAlignmentFlag){this._SelectedAlignment=this._ProductData[b].Options[I].Features[k].Alignment,0!=this._SelectedAlignment.length&&this._SelectedAlignment!=s||(this._SelectedAlignment="FACE");for(l=0;l<this._Alignments.length;l++)this._SelectedAlignment.toLowerCase()==this._Alignments[l].Name.toLowerCase()&&(this._CurrentAlignmentIndex=l)}O=this._ProductData[b].Options[I].Features[k].Name,this._RenderObject[e].FeatureAlignments=this._ProductData[b].Options[I].Features[k].FeatureAlignments}}if(C.toLowerCase().indexOf("button")>-1&&this.Option("AutoThread"))for(b=0;b<this._ProductData.length;b++){var v=this._ProductData[b].Name.toLowerCase();if(v.indexOf("hole")>-1||v.indexOf("thread")>-1)for(I=0;I<this._ProductData[b].Options.length;I++)for(k=0;k<this._ProductData[b].Options[I].Features.length;k++)this._ProductData[b].Options[I].Features[k].Name.toLowerCase()==O.toLowerCase()&&(this._RenderObject[this._ProductData[b].Id].Id=this._ProductData[b].Options[I].Features[k].Id)}this._RenderObject[e].Id=i,this._RenderObject[e].LongId=parseInt(i,16);var D="",L=this._ProductData.filter((function(t){if(t.Id===e)return t}));if(t.each(L[0].Options,(function(e,s){t.each(s.Features,(function(t,e){e.Id==i&&(D=s.Id)}))})),this._RenderObject[e].OptionId=D,this._BlockedFeatures.hasOwnProperty(i))for(m=0;m<this._BlockedFeatures[i].length;m++){p=this._BlockedFeatures[i][m];-1===this._CurrentBlockedFeatures.indexOf(p)&&this._CurrentBlockedFeatures.push(p),t("[data-tds-element='"+p+"']").addClass("block")}if(this._BlockedDetails.hasOwnProperty(i))for(u=0;u<this._BlockedDetails[i].length;u++){f=this._BlockedDetails[i][u];-1===this._CurrentBlockedDetails.indexOf(f)&&(this._CurrentBlockedDetails.push(f),n._ProductData.filter((function(t){if(t.Id===f)return t}))[0].Name.toLowerCase().indexOf(this._MonogramPlacementName.toLowerCase())>-1&&(this._IsMonoBlock=!0)),t("[data-tds-key='"+f+"']").addClass("block")}}a?t.ajax({url:this.Option("ServiceUrl")+"/v1/Swatches?key="+this.Option("Key")+"&id="+o[0][0],dataType:"json",context:this,success:function(t){var e;if(e=t[0].Id,o.length>0)for(var i=0;i<o.length;i++){for(var s=0;s<o[i].length;s++)n._RenderObject[o[i][s].toString()].Swatch=e;for(var r=0;r<this._LibConfig.length;r++)for(s=0;s<o[i].length;s++)this._LibConfig[r].Options.indexOf(o[i][s])>-1&&(this._LibConfig[r].Swatch=e)}n._createUrl(n._RenderObject,!0),a=!1},fail:function(){}}):this._createUrl(this._RenderObject,!0)},_productListApnd:function(e,i){i=this.config.defaultTheme;let s="",n="";e.forEach((t=>{if(s+=`<li class="navButton ja_list link" data-tds-product="${t.Id}">`,s+='<a href="#">',s+=`<div class="navButtonContent"><img src="${t.ImageSource}" alt="${t.Name}"><h5>${t.Name}</h5></div>`,s+="</a>","theme_A"===i){s+=`<div id="${t.Id}" class="accordion-options">`,s+="<div class='content_row'>",(t.Options[0]?.Features||[]).forEach(((e,i)=>{s+=`<div class="product_img" data-tds-element="${e.Id}" data-tds-key="${t.Id}" id="${e.Id}">`,s+='<div class="thumb_cover">',s+=`<div class="thumb_box"><img class="appeared" src="${e.ImageSource}" alt="Image ${i+1}"></div>`,s+=`<div class="txt">${e.Name}</div>`,s+="</div></div>"})),s+="</div></div>"}if(s+="</li>","theme_B"===i){n+=`<div id="${t.Id}" class="submenu">`,n+='<div class="content_row">',n+=`<h5>${t.Name}</h5>`,(t.Options[0]?.Features||[]).forEach(((e,i)=>{n+=`<div class="product_img" data-tds-element="${e.Id}" data-tds-key="${t.Id}" id="${e.Id}">`,n+='<div class="thumb_cover">',n+=`<div class="thumb_box"><img class="appeared" src="${e.ImageSource}" alt="${e.Name}"></div>`,n+=`<div class="txt">${e.Name}</div>`,n+="</div></div>"})),n+="<ul>",(t.submenuOptions||[]).forEach((t=>{n+=`<li>${t}</li>`})),n+="</ul>",n+="</div></div>"}})),t("#sidebarPrimaryNav").empty().append(s),"theme_B"===i&&(t("#sidebarPrimaryNav li").first().addClass("active"),t("#submenu").empty().append(n),t("#submenu .submenu").first().addClass("submenu-open"))},_setContrast:function(t,e){this._CurrentContrastNo=e,this._CurrentDetail=t},_createUrl:function(e,i,n){null!=this._worker&&this._worker.terminate();var a=this;this._NoCache=!0,this._Url="";if("true"==this.iscdn)var o="?h=1000",r=this._CachePath;else r=this._CacheS3Path;r.toLowerCase().indexOf("cloudinary")>-1&&(r+="/c_scale,q_auto:best,w_800/v1",o="");var d="",h="",c="",l="",_="",u=[],f=this.Option("ImageSource");if(t(f).find(".TdsNew").removeClass("TdsNew").addClass("TdsOld"),!n){for(var g=0;g<this._Alignments.length;g++){for(var m in e){if(i){if(-1!==this._CurrentBlockedDetails.indexOf(m))continue;if(-1!==this._CurrentBlockedFeatures.indexOf(e[m].Id))continue}u[g]==s?(u[g]=[],u[g][this._RenderObject[m].OrderNo]={Normal:[],SingleLink:[],DoubleLink:[],Contrast:[],ModelImage:""}):u[g][this._RenderObject[m].OrderNo]==s&&(u[g][this._RenderObject[m].OrderNo]={Normal:[],SingleLink:[],DoubleLink:[],Contrast:[],ModelImage:""}),d=""!=this._RenderObject[m].Swatch?parseInt(this._RenderObject[m].Swatch,16):""!=this._RenderObject[m].Color?this._RenderObject[m].LongId+this._RenderObject[m].Color:"";var p=r+"/"+this._ClientName+"/",C=parseInt(this._Alignments[g].Id,16)+"/";if(this._ReverseLinks[m]!==s)for(var O=0;O<this._ReverseLinks[m].length;O++)this._Alignments[g].Name.toLowerCase()!=e[this._ReverseLinks[m][O]].Alignment.toLowerCase()&&-1==e[this._ReverseLinks[m][O]].FeatureAlignments.indexOf(this._Alignments[g].Name)||-1===this._CurrentBlockedDetails.indexOf(this._ReverseLinks[m][O])&&(this._FalseImages.SingleLink[this._Alignments[g].Id]!=s&&this._FalseImages.SingleLink[this._Alignments[g].Id][this._RenderObject[m].Id]!=s?-1==this._FalseImages.SingleLink[this._Alignments[g].Id][this._RenderObject[m].Id].indexOf(this._RenderObject[this._ReverseLinks[m][O]].Id)&&(c=""!=this._RenderObject[this._ReverseLinks[m][O]].Swatch?p+C+this._RenderObject[this._ReverseLinks[m][O]].LongId+"/"+this._RenderObject[m].LongId+"/Full/"+parseInt(this._RenderObject[this._ReverseLinks[m][O]].Swatch,16)+"."+this.Option("ImageFormat"):""!=this._RenderObject[this._ReverseLinks[m][O]].Color?p+C+this._RenderObject[this._ReverseLinks[m][O]].LongId+"/"+this._RenderObject[m].LongId+"/Full/"+this._RenderObject[this._ReverseLinks[m][O]].LongId+this._RenderObject[this._ReverseLinks[m][O]].Color+"."+this.Option("ImageFormat"):p+C+this._RenderObject[this._ReverseLinks[m][O]].LongId+"/"+this._RenderObject[m].LongId+"/Full/WhiteDrapped."+this.Option("ImageFormat"),u[g]==s?(u[g]=[],u[g][this._RenderObject[this._ReverseLinks[m][O]].OrderNo]={Normal:[],SingleLink:[],DoubleLink:[],Contrast:[],ModelImage:""}):u[g][this._RenderObject[this._ReverseLinks[m][O]].OrderNo]==s&&(u[g][this._RenderObject[this._ReverseLinks[m][O]].OrderNo]={Normal:[],SingleLink:[],DoubleLink:[],Contrast:[],ModelImage:""}),u[g][this._RenderObject[this._ReverseLinks[m][O]].OrderNo].SingleLink.push(c)):(c=""!=this._RenderObject[this._ReverseLinks[m][O]].Swatch?p+C+this._RenderObject[this._ReverseLinks[m][O]].LongId+"/"+this._RenderObject[m].LongId+"/Full/"+parseInt(this._RenderObject[this._ReverseLinks[m][O]].Swatch,16)+"."+this.Option("ImageFormat"):""!=this._RenderObject[this._ReverseLinks[m][O]].Color?p+C+this._RenderObject[this._ReverseLinks[m][O]].LongId+"/"+this._RenderObject[m].LongId+"/Full/"+this._RenderObject[this._ReverseLinks[m][O]].LongId+this._RenderObject[this._ReverseLinks[m][O]].Color+"."+this.Option("ImageFormat"):p+C+this._RenderObject[this._ReverseLinks[m][O]].LongId+"/"+this._RenderObject[m].LongId+"/Full/WhiteDrapped."+this.Option("ImageFormat"),u[g]==s?(u[g]=[],u[g][this._RenderObject[this._ReverseLinks[m][O]].OrderNo]={Normal:[],SingleLink:[],DoubleLink:[],Contrast:[],ModelImage:""}):u[g][this._RenderObject[this._ReverseLinks[m][O]].OrderNo]==s&&(u[g][this._RenderObject[this._ReverseLinks[m][O]].OrderNo]={Normal:[],SingleLink:[],DoubleLink:[],Contrast:[],ModelImage:""}),u[g][this._RenderObject[this._ReverseLinks[m][O]].OrderNo].SingleLink.push(c)));if(this._DoubleLinks.hasOwnProperty(m)){for(var b in this._DoubleLinks[m])for(var I=0;I<this._DoubleLinks[m][b].length;I++)this._Alignments[g].Name.toLowerCase()!=e[this._DoubleLinks[m][b][I]].Alignment.toLowerCase()&&-1==e[this._DoubleLinks[m][b][I]].FeatureAlignments.indexOf(this._Alignments[g].Name)||-1===this._CurrentBlockedDetails.indexOf(this._DoubleLinks[m][b][I])&&(this._FalseImages.DoubleLink[this._Alignments[g].Id]!=s&&this._FalseImages.DoubleLink[this._Alignments[g].Id][this._RenderObject[this._DoubleLinks[m][b][I]].Id]!=s&&this._FalseImages.DoubleLink[this._Alignments[g].Id][this._RenderObject[this._DoubleLinks[m][b][I]].Id][this._RenderObject[b].Id]!=s?-1==this._FalseImages.DoubleLink[this._Alignments[g].Id][this._RenderObject[this._DoubleLinks[m][b][I]].Id][this._RenderObject[b].Id].indexOf(this._RenderObject[m].Id)&&(l=""!=d?p+C+this._RenderObject[m].LongId+"/"+this._RenderObject[this._DoubleLinks[m][b][I]].LongId+"/"+this._RenderObject[b].LongId+"/Full/"+d+"."+this.Option("ImageFormat"):p+C+this._RenderObject[m].LongId+"/"+this._RenderObject[this._DoubleLinks[m][b][I]].LongId+"/"+this._RenderObject[b].LongId+"/Full/WhiteDrapped."+this.Option("ImageFormat"),u[g][this._RenderObject[m].OrderNo].DoubleLink.push(l)):(l=""!=d?p+C+this._RenderObject[m].LongId+"/"+this._RenderObject[this._DoubleLinks[m][b][I]].LongId+"/"+this._RenderObject[b].LongId+"/Full/"+d+"."+this.Option("ImageFormat"):p+C+this._RenderObject[m].LongId+"/"+this._RenderObject[this._DoubleLinks[m][b][I]].LongId+"/"+this._RenderObject[b].LongId+"/Full/WhiteDrapped."+this.Option("ImageFormat"),u[g][this._RenderObject[m].OrderNo].DoubleLink.push(l)))}if(this._Alignments[g].Name.toLowerCase()==e[m].Alignment.toLowerCase()||-1!=e[m].FeatureAlignments.indexOf(this._Alignments[g].Name)||""==e[m].Alignment){if(""!==this._RenderObject[m].Contrast.CSwatch||""!==this._RenderObject[m].Contrast.CColor){var k=parseInt(this._RenderObject[m].Contrast.CSwatch,16),v=(this._RenderObject[m].Contrast.CColor,this._RenderObject[m].Contrast.CNo);""!==k&&(_=p+C+this._RenderObject[m].LongId+"/Full/Group"+v+"/"+k+"_"+v+"."+this.Option("ImageFormat"),u[g][this._RenderObject[m].OrderNo].Contrast.push(_))}this._FalseImages.Normal[this._Alignments[g].Id]!=s&&this._FalseImages.Normal[this._Alignments[g].Id].indexOf(this._RenderObject[m].Id)>-1||(h=""!=d?p+C+this._RenderObject[m].LongId+"/Full/"+d+"."+this.Option("ImageFormat"):p+C+this._RenderObject[m].LongId+"/Full/WhiteDrapped."+this.Option("ImageFormat"),u[g][this._RenderObject[m].OrderNo].Normal.push(h))}}if(""!==this._MonogramText&&""!==this._MonogramFont&&""!==this._MonogramColor&&""!==this._MonogramPlacement&&!this._IsMonoBlock){var D=this._MonogramText+","+this._MonogramColorHex+","+this._MonogramFontName+",{["+this._MonogramCordinates+"]}",L=this.Option("ServiceUrl")+"/DrappingImages/Monogram/monogram.php?"+btoa(D);this._Alignments[g].Name.toLowerCase()==this._MonogramAlignment.toLowerCase()&&""!=D&&(u[g][u[g].length]={Normal:[L],SingleLink:[],DoubleLink:[],Contrast:[],ModelImage:""})}this._Alignments[g].IsModelImage&&(u[g][0]={Normal:[],SingleLink:[],DoubleLink:[],Contrast:[],ModelImage:""},"true"==this.iscdn?u[g][0].ModelImage=p+"/ModelImage/"+this._ModelId+C.substring(0,C.length-1)+"."+this.Option("ImageFormat")+o:u[g][0].ModelImage=p+"/ModelImage/"+this._ModelId+C.substring(0,C.length-1)+"."+this.Option("ImageFormat")),this._CombineUrls[g]=this._drapingUrl(this._RenderObject,!0,!0,this._Alignments[g].Name).replace("imgs","img")}this._AlignmentsUrl=[],t.each(u,(function(e,i){a._AlignmentsUrl[e]=[],t.each(u[e],(function(i,n){n!=s&&(n.DoubleLink.length>0&&t.each(n.DoubleLink,(function(t,i){a._AlignmentsUrl[e].push(i)})),n.SingleLink.length>0&&t.each(n.SingleLink,(function(t,i){a._AlignmentsUrl[e].push(i)})),n.Normal.length>0&&t.each(n.Normal,(function(t,i){a._AlignmentsUrl[e].push(i)})),n.Contrast.length>0&&t.each(n.Contrast,(function(t,i){a._AlignmentsUrl[e].push(i)})),""!=n.ModelImage&&a._AlignmentsUrl[e].push(n.ModelImage))}))}))}"true"==this.iscdn?t.each(this._AlignmentsUrl[this._CurrentAlignmentIndex],(function(e,i){t(f).append("<img class='TdsNew' style='opacity:0' src='"+i+o+"' style='position:absolute'>")})):t.each(this._AlignmentsUrl[this._CurrentAlignmentIndex],(function(e,i){t(f).append("<img class='TdsNew' style='opacity:0' src='"+i+"' style='position:absolute'>")}));var S=0,w=[],F=0,P=t(f+" .TdsNew").length;t(f+" .TdsNew").on("load",(function(){if(S++,w.push(t(this).attr("src")),S==P){0==F?a._loadImage(f,a,w):a._drapingUrl(a._RenderObject,!0);var e=a.Option("OnRenderImageChange");"function"==typeof e&&e.call(a,a._AlignmentsUrl,a._CombineUrls);var i=[];t(f+" .TdsNew").each((function(){i.push(this.src)})),a._combineImage(i)}})).on("error",(function(){F++,++S==P&&(0==F?a._loadImage(f,a,w):a._drapingUrl(a._RenderObject,!0))}))},_loadImage:function(e,i,s){t(e).find(".unload").remove(),t.each(t(e+" .TdsNew"),(function(){for(var t=0,n=50;t<1;t+=.1)i._effect(e,t.toFixed(1).toString(),n,this,i,s),n+=50}))},_effect:function(e,i,s,n){setTimeout((function(){t(e).find(".TdsNew").css("opacity",i),0==(1-i).toFixed(1)&&(t(e+" .TdsOld").remove(),t(e+" .unload").remove())}),s)},_drapingUrl:function(e,i,n,a){for(var o in this._Url="",e){if(i){if(-1!==this._CurrentBlockedDetails.indexOf(o))continue;if(-1!==this._CurrentBlockedFeatures.indexOf(e[o].Id))continue}if(this._IsSpecific){if(o!==this._SpecificViewOf&&o!==this._SpecificDisplay[this._SpecificViewOf]&&this._SpecificDisplay[o]!==this._SpecificViewOf)continue;if(this._SpecificLink.hasOwnProperty(this._SpecificViewOf)&&o!==this._SpecificViewOf&&-1===this._SpecificLink[this._SpecificViewOf].indexOf(o))continue}var r="";if(""!==e[o].Swatch?r="&s="+e[o].Swatch:""!==e[o].Color&&(r="&color="+e[o].Color),this._DoubleLinks.hasOwnProperty(o))for(var d in this._DoubleLinks[o])for(var h=0;h<this._DoubleLinks[o][d].length;h++)this._Url+=""!==r?"p="+e[o].Id+"&pa="+e[d].Id+"&pap="+e[this._DoubleLinks[o][d][h]].Id+r+"/":"p="+e[o].Id+"&pa="+e[d].Id+"&pap="+e[this._DoubleLinks[o][d][h]].Id+"/";if(this._Url+=""!==r?"p="+e[o].Id+r+"/":"p="+e[o].Id+"/",""!=e[o].Contrast.CNo){var c=e[o].Contrast.CSwatch,l=e[o].Contrast.CColor;if(""!==c||""!==l){if(this._DoubleLinks.hasOwnProperty(o))for(var d in this._DoubleLinks[o])for(h=0;h<this._DoubleLinks[o][d].length;h++)this._Url+="p="+e[o].Id+"&pa="+e[d].Id+"&pap="+e[this._DoubleLinks[o][d][h]].Id;else this._Url+="p="+e[o].Id;this._Url+=""!=c?"&s="+e[o].Contrast.CSwatch:"&s="+e[o].Contrast.CColor,this._Url+="&gon="+e[o].Contrast.CNo+"/"}}if(this._ReverseLinks[o]!==s)for(var _=0;_<this._ReverseLinks[o].length;_++)if(-1===this._CurrentBlockedDetails.indexOf(this._ReverseLinks[o][_])&&-1===this._CurrentBlockedFeatures.indexOf(e[this._ReverseLinks[o][_]].Id))if(this._Url+="p="+e[this._ReverseLinks[o][_]].Id,""!=e[this._ReverseLinks[o][_]].Swatch?this._Url+="&pa="+e[o].Id+"&s="+e[this._ReverseLinks[o][_]].Swatch+"/":this._Url+="&pa="+e[o].Id+"/",""!=e[this._ReverseLinks[o][_]].Contrast.CNo)this._Url+="p="+e[this._ReverseLinks[o][_]].Id+"&pa="+e[o].Id+"&s="+e[this._ReverseLinks[o][_]].Contrast.CSwatch+"&gon="+e[this._ReverseLinks[o][_]].Contrast.CNo+"/";else if(""!=e[o].Contrast.CNo){for(var u=!1,f=0;f<this._LibConfig.length;f++)if(this._LibConfig[f].Options.indexOf(this._ReverseLinks[o][_])>-1)for(var g=0;g<this._LibConfig[f].Options.length;g++)""!=this._LibConfig[f].Options[g].Swatch&&(u=!0);u||(this._Url+="p="+e[this._ReverseLinks[o][_]].Id+"&pa="+e[o].Id+"&s="+e[o].Contrast.CSwatch+"&gon="+e[o].Contrast.CNo+"/")}}if(""!==this._Url||this._IsSpecific){if(""===this._Url&&this._IsSpecific)return this._IsSpecific=!1,void this._drapingUrl(this._RenderObject,!0,n);var m="";""===this._MonogramText||""===this._MonogramFont||""===this._MonogramColor||""===this._MonogramPlacement||this._IsSpecific||(m="mp="+this._MonogramPlacement+"&mf="+this._MonogramFont+"&mc="+this._MonogramColor+"&mt="+this._MonogramText+"/"),this._Alignments[this._CurrentAlignmentIndex].Name.toLowerCase()==this._MonogramAlignment.toLowerCase()&&""!=m&&(this._Url+=m),this._IsAlignmentClick?(this._Url+="view="+this._Alignments[this._CurrentAlignmentIndex].Name,this._SelectedAlignment=this._Alignments[this._CurrentAlignmentIndex].Name,this._IsSpecific||(this._IsAlignmentClick=!1)):this._Url+=a!==s?"view="+a:"view="+this._SelectedAlignment;var p=this._Url;if(this._IsSpecific&&(this._Url+="/type=3"),-1===this._Url.indexOf("p="))this._IsSpecific=!1,this._drapingUrl(this._RenderObject,!0,n);else{var C="";if(C="png"==this.Option("ImageFormat").toLowerCase()||"p"==this.Option("ImageFormat").toLowerCase()?this.Option("ServiceUrl")+"/v1/imgs?"+this._Url+"&if=png&key="+this.Option("Key"):this.Option("ServiceUrl")+"/v1/imgs?"+this._Url+"&key="+this.Option("Key"),n!=s)return C;t.ajax({url:C,context:this,dataType:"json",success:function(e){"face"!=this._SelectedAlignment.toLowerCase()||this._IsSpecific||(this._ImageUrl=this.Option("ServiceUrl")+"/v1/img?"+this._Url+"&key="+this.Option("Key")),this._SpecificImageSource||t(this.Option("SpecificImageSource")).empty();var i=!1,a=(Date.now(),[]),o=1,r=this.Option("ImageSource");t(r).find(".TdsNew").removeClass("TdsNew").addClass("TdsOld");var d=this.Option("SpecificImageSource"),h=!1,c="";if(2===e.length&&""===e[0]&&e[1].indexOf("Monogram")>1)i=!1;else for(var l=0;l<e.length;l++)if(""!=e[l]){if(r!==s){c=e[l];var _=t(r).height();""!=this.Option("ImageSize")?c="o"==this.Option("ImageSize").toLowerCase()||"original"==this.Option("ImageSize").toLowerCase()||"auto"==this.Option("ImageSize").toLowerCase()?e[l]:e[l]+"?h="+this.Option("ImageSize")+"&scale=both":c+=_>1?"?h="+_+"&scale=both":"?h=1000&scale=both",this._IsSpecific&&""!=d&&!this._SpecificImageSource?(t(d).append("<img src='"+c+"'>"),h=!0):""==d||this._SpecificImageSource?t(r).append("<img class='TdsNew' style='opacity:0' c="+o+" src='"+c+"'>"):(t(r).append("<img class='TdsNew' style='opacity:0' c="+o+" src='"+c+"'>"),t(d).append("<img src='"+c+"'>"))}a.push(e[l]),i=!(""!=d&&this._IsSpecific&&!this._SpecificRender),o++}if(h&&(this._SpecificImageSource=!0),this.Option("AutoSpecific")&&this._SpecificRender&&(this._SpecificRender=!1),i){t(r+" img:last").attr("data-zoom-image",this.Option("ServiceUrl")+"/v1/img?key="+this.Option("Key")+"&"+p+"/type=5");var u=this,f=0;t(r+" .TdsNew").on("load",(function(){if(++f==t(r+" .TdsNew").length){for(var e=0,i=50;e<1;e+=.1)u._effect(r,e.toFixed(1).toString(),i,a),i+=50;f=0,u._AlignmentsUrl[u._CurrentAlignmentIndex]=a;var s=u.Option("OnRenderImageChange");"function"==typeof s&&s.call(u,u._AlignmentsUrl),u._combineImage(a)}})).each((function(){this.complete&&t(this).load()}))}else this._IsSpecific=!1,this._drapingUrl(this._RenderObject,!0,n),console.log("any")},fail:function(){}})}}},_combineImage:function(e){var i=this._drapingUrl(this._RenderObject,!0,!0).replace("imgs","img");t(".TdsNew").last().attr("data-zoom-image",i);var s=this.Option("OnCombineImageLoad");"function"==typeof s&&s.call(this,i)},_linkingBlocking:function(){t.ajax({url:this.Option("ServiceUrl")+"/api/products/"+this.Option("Product")+"/link/"+this.Option("Key"),context:this,dataType:"json",success:function(t){this._Links=t.Link,this._ReverseLinks=t.ReverseLink,this._DoubleLinks=t.DoubleLinking,this._BlockedFeatures=t.Block,this._BlockedDetails=t.BlockDetail,this._BlockedFabrics=t.BlockFabrics,this._FalseImages=t.FalseImages,this._createRenderObject()},fail:function(){}})},_changeAlignment:function(t){this._IsAlignmentClick=!0,this._IsSpecific=!1,this._SpecificImageSource=!1;var e=t.data("tds-alignment").toLowerCase();if("next"==e)this._Alignments.length-1==this._CurrentAlignmentIndex?this._CurrentAlignmentIndex=0:this._CurrentAlignmentIndex++;else if("previous"==e)0==this._CurrentAlignmentIndex?this._CurrentAlignmentIndex=this._Alignments.length-1:this._CurrentAlignmentIndex--;else for(var i=0;i<this._Alignments.length;i++)this._Alignments[i].Name.toLowerCase()==e&&(this._CurrentAlignmentIndex=i);this._createUrl(this._RenderObject,!0,!0)},publicMethod:function(t){alert(t)},Option:function(t,e){if(e)this.config[t]=e;else if(t)return this.config[t]},destroy:function(){this.$el.removeData()},_unregisterEvents:function(){t("body").off("click","[data-tds-mplace]"),t("body").off("click","[data-tds-mfont]"),t("body").off("click","[data-tds-mcolor]"),t("body").off("change",'[data-tds-moption="text"]'),t("body").off("click","[data-tds-element]"),t("body").off("click","[data-tds-option]"),t("body").off("click","[data-tds-product]"),t("body").off("click","[data-tds-contrast]"),t("body").off("click","[data-tds-alignment]")},Product:function(t,e){e||(e=""),this._Url="",this._Links=new Object,this._ReverseLinks=new Object,this._DoubleLinks=new Object,this._BlockedFeatures=new Object,this._BlockedDetails=new Object,this._CurrentBlockedFeatures=Array(),this._CurrentBlockedDetails=Array(),this._RenderObject=new Object,this._Alignments=new Array,this._CurrentAlignmentIndex=0,this._Swatch=e,this._Color="",this._CurrentDetail="",this._CurrentContrastNo="",this._MonogramPlacement="",this._MonogramColor="",this._MonogramFont="",this._MonogramText="",this._AddOnData=[],this._SpecificDisplay=new Object,this._SpecificLink=new Object,this._SpecificViewOf="",this._unregisterEvents(),this._SpecificImageSource=!1,this.Option("Product",t),this._setCofiguration(t,this.Option("ProductTemplate")),this._IsCustomizeOptions=!1,this._CustomizeOptions=[],this._SelectedAlignment="FACE"},Texture:function(e,i){if(e===s)return""===this._Swatch?this._Color:this._Swatch;if(this._CurrentBlockedFabrics.indexOf(e)>-1)return console.log("Fabric is Block"),!1;var n=this._Swatch;if(""!=n||n!=s)for(var a in this._BlockedFabrics)this._BlockedFabrics[a].indexOf(n)>-1&&(this._CurrentBlockedFeatures.pop(a),t("[data-tds-element='"+this._BlockedFabrics[a]+"']").removeClass("block"));for(var a in this._BlockedFabrics)this._BlockedFabrics[a].indexOf(e)>-1&&(this._CurrentBlockedFeatures.push(a),t("[data-tds-element='"+this._BlockedFabrics[a]+"']").addClass("block"));var r=new Array;for(c=0;c<this._LibConfig.length;c++)if(!(this._LibConfig[c].Name.toLowerCase().indexOf("waist")>-1||this._LibConfig[c].Name.toLowerCase().indexOf("trouser")>-1||this._LibConfig[c].Name.toLowerCase().indexOf("button holes")>-1))for(var d=0;d<this._LibConfig[c].Options.length;d++)r.push(this._LibConfig[c].Options[d]);var h=o(e);for(var c in h===s?this._Swatch=e:this._Color=h,this._RenderObject)-1===r.indexOf(c)&&(""!=this._Swatch?(this._RenderObject[c].Swatch=this._Swatch,this._RenderObject[c].Color=""):(this._RenderObject[c].Swatch="",this._RenderObject[c].Color=this._Color));!this._SpecificRenderClick&&this._IsSpecific&&(this._IsSpecific=!1),this._SpecificImageSource=!1,i||this._createUrl(this._RenderObject,!0)},ContrastTexture:function(t){if(t!==s){var e=o(t);e===s?e="":t="",this._RenderObject[this._CurrentDetail].Contrast.CSwatch=t,this._RenderObject[this._CurrentDetail].Contrast.CColor=e,this._RenderObject[this._CurrentDetail].Contrast.CNo=this._CurrentContrastNo,!this._SpecificRenderClick&&this._IsSpecific&&(this._IsSpecific=!1),this._SpecificImageSource=!1,this._createUrl(this._RenderObject,!0)}},LibConfigTexture:function(e,i){if(e===s)return this._LSwatch;if(this._CurrentBlockedFabrics.indexOf(e)>-1)return console.log("Fabric is Block"),!1;var n=this._LSwatch;if(""!=n||n!=s)for(var a in this._BlockedFabrics)this._BlockedFabrics[a].indexOf(n)>-1&&(this._CurrentBlockedFeatures.pop(a),t("[data-tds-element='"+this._BlockedFabrics[a]+"']").removeClass("block"));for(var a in this._BlockedFabrics)this._BlockedFabrics[a].indexOf(e)>-1&&(this._CurrentBlockedFeatures.push(a),t("[data-tds-element='"+this._BlockedFabrics[a]+"']").addClass("block"));var r=o(e);r===s?r="":e="";var d=this._SpecificViewOf;i&&(d=i);for(var h=!1,c=0;c<this._LibConfig.length;c++){if(this._LibConfig[c].Options.indexOf(d)>-1){h=!0;for(var l=0;l<this._LibConfig[c].Options.length;l++)this._RenderObject[this._LibConfig[c].Options[l]].Swatch=e;this._LibConfig[c].Swatch=e}}if(!h)return!1;!this._SpecificRenderClick&&this._IsSpecific&&(this._IsSpecific=!1),this._SpecificImageSource=!1,this._LSwatch=e,i||this._createUrl(this._RenderObject,!0)},Summary:function(){var e=new Array,i=new Array,n=new Array,a=new Array;""==this._MonogramPlacement||""==this._MonogramColor||""==this._MonogramFont||""==this._MonogramText||this._IsMonoBlock||a.push({MonogramText:this._MonogramText.toString(),MonogramPlacement:this._MonogramPlacement.toString(),MonogramFont:this._MonogramFont.toString(),MonogramColor:this._MonogramColor.toString()}),n.push({Detail:"All",DetailId:[],ContrastNo:"0",FabricId:this._Swatch,Color:this._Color});for(var o=0;o<this._LibConfig.length;o++)this._LibConfig[o].swatch==s&&""==this._LibConfig[o].swatch||n.push({Detail:this._LibConfig[o].Name,DetailId:this._LibConfig[o].Options,ContrastNo:"0",FabricId:this._LibConfig[o].Swatch,Color:this._Color});for(var o in this._RenderObject)-1===this._CurrentBlockedDetails.indexOf(o)&&-1===this._CurrentBlockedFeatures.indexOf(this._RenderObject[o].Id)&&(e.push(this._RenderObject[o].Id),""!=this._RenderObject[o].Contrast.CSwatch&&i.push({Detail:o,ContrastNo:this._RenderObject[o].Contrast.CNo,FabricId:this._RenderObject[o].Contrast.CSwatch,Color:this._RenderObject[o].Contrast.CColor}));var r={Product:e,Contrast:i,Swatch:n,key:this.Option("Key"),Monogram:a},d=null;return t.ajax({type:"POST",url:this.Option("ServiceUrl")+"/api/products/",data:r,async:!1,success:function(t){d=t},fail:function(){}}),d},Look:function(e){if(e===s){var i={RO:this._RenderObject,BF:this._CurrentBlockedFeatures,BD:this._CurrentBlockedDetails,S:this._Swatch,C:this._Color,MP:this._MonogramPlacement,MC:this._MonogramColor,MF:this._MonogramFont,MT:this._MonogramText,AI:this._CurrentAlignmentIndex},n=t(".TdsNew").last().attr("data-zoom-image");return{Data:btoa(JSON.stringify(i)),Url:n}}if(0==e.length)return console.error("Look data not found.");if("image"===e.toLowerCase())return t(".TdsNew").last().attr("data-zoom-image");i=JSON.parse(atob(e));this._RenderObject=i.RO,this._CurrentBlockedFeatures=i.BF,this._CurrentBlockedDetails=i.BD,this._Swatch=i.S,this._Color=i.C,this._MonogramPlacement=i.MP,this._MonogramColor=i.MC,this._MonogramFont=i.MF,this._MonogramText=i.MT,this._CurrentAlignmentIndex=i.AI,this._SaveLookAlignmentFlag=!0,this._SelectedAlignment=this._Alignments[this._CurrentAlignmentIndex].Name,this._createRenderObject(""),this._SaveLookAlignmentFlag=!1},_dataURItoBlob:function(t){for(var e=atob(t.split(",")[1]),i=[],s=0;s<e.length;s++)i.push(e.charCodeAt(s));return new Blob([new Uint8Array(i)],{type:"image/png"})},SpecificDetails:function(){return this._SpecificDetails},SpecificRender:function(t){if(t!==s)if("boolean"==typeof t)this._IsSpecific=t,this._SpecificRenderClick=t,this._createUrl(this._RenderObject,!0);else if("string"==typeof t){for(var e=0;e<this._ProductData.length;e++)this._ProductData[e].Id==t&&(this._SelectedAlignment=this._ProductData[e].Options[0].Features[0].Alignment);this._SpecificViewOf=t,this._SpecificRenderClick=!0,this._IsSpecific=!0,this._SpecificImageSource=!0,this._SpecificRender=!0,this._createUrl(this._RenderObject,!0)}},ResetContrast:function(){for(var t in this._RenderObject)this._RenderObject[t].Contrast={CSwatch:"",CColor:"",CNo:""};this._createUrl(this._RenderObject,!0)},ResetProduct:function(){this._CurrentBlockedFeatures=Array(),this._CurrentBlockedDetails=Array(),this._Swatch="",this._Color="",this._SelectedAlignment="FACE",this._CurrentAlignmentIndex=0,this._MonogramPlacement="",this._MonogramColor="",this._MonogramFont="",this._MonogramText="",this._IsSpecific=!1;for(var t=0;t<this._LibConfig.length;t++)this._LibConfig[t].Swatch="";this._createRenderObject()},Features:function(t,e){if(t!==s&&""!==t&&e!==s&&""!==e)for(var i=0;i<this._ProductData.length;i++)if(this._ProductData[i].Id==t)for(var n=0;n<this._ProductData[i].Options.length;n++)if(this._ProductData[i].Options[n].Id==e){if(this._IsCustomizeOptions&&this._CustomizeOptions[0].length>0){for(var a=[],o=0;o<this._ProductData[i].Options[n].Features.length;o++)-1!=this._CustomizeOptions[0].indexOf(this._ProductData[i].Options[n].Features[o].Id)&&a.push(this._ProductData[i].Options[n].Features[o]);return a}return this._ProductData[i].Options[n].Features}return null},Options:function(e){if(e!==s&&""!==e)for(var i=0;i<this._ProductData.length;i++)if(this._ProductData[i].Id==e){if(this._IsCustomizeOptions&&this._CustomizeOptions[1].length>0){for(var n=[],a=0;a<this._ProductData[i].Options.length;a++)if(-1!=this._CustomizeOptions[1].indexOf(this._ProductData[i].Options[a].Id)&&(n.push(this._ProductData[i].Options[a]),this._CustomizeOptions[1].length>0)){for(var o=[],r=0;r<this._ProductData[i].Options[a].Features.length;r++)-1!=this._CustomizeOptions[0].indexOf(this._ProductData[i].Options[a].Features[r].Id)&&o.push(this._ProductData[i].Options[a].Features[r]);n[n.length-1].Features=o}return n}return n=t.merge([],this._ProductData[i].Options)}return null},Contrasts:function(t){if(t!==s&&""!==t)for(var e=0;e<this._ProductData.length;e++)if(this._ProductData[e].Id==t){return this._ProductData[e].Contrasts}return null},Monogram:function(){return this._MPlacement.length>0?{MonogramPlacement:this._MPlacement,MonogramFont:this._MFont,MonogramColor:this._MColor}:null},CustomizeOptions:function(e,i){if(this.Option("IsOptionVisible"))if(e!=s&&i==s){for(var n=0;n<e.length;n++)t("[data-tds-product='"+e[n]+"']").addClass("selected");for(n=0;n<this._ProductData.length;n++)t("[data-tds-key='"+this._ProductData[n].Id+"']").hasClass("selected")||t("[data-tds-product='"+this._ProductData[n].Id+"']").hasClass("selected")?(t("[data-tds-key='"+this._ProductData[n].Id+"']").removeClass("selected"),t("[data-tds-product='"+this._ProductData[n].Id+"']").removeClass("selected")):(t("[data-tds-key='"+this._ProductData[n].Id+"']").remove(),t("[data-tds-product='"+this._ProductData[n].Id+"']").remove())}else if(e!=s&&i!=s){for(n=0;n<e.length;n++)t("[data-tds-product='"+e[n]+"']").addClass("selected");this._IsCustomizeOptions=!0,this._CustomizeOptions.push(i);var a=[];for(n=0;n<this._ProductData.length;n++)for(var o=0;o<this._ProductData[n].Options.length;o++)for(var r=0;r<this._ProductData[n].Options[o].Features.length;r++)for(var d=0;d<i.length;d++)if(i[d]==this._ProductData[n].Options[o].Features[r].Id){if(-1!=t.inArray(this._ProductData[n].Options[o].Id,a))continue;a.push(this._ProductData[n].Options[o].Id)}this._CustomizeOptions.push(a);for(n=0;n<this._ProductData.length;n++)t("[data-tds-key='"+this._ProductData[n].Id+"']").hasClass("selected")||t("[data-tds-product='"+this._ProductData[n].Id+"']").hasClass("selected")?(t("[data-tds-key='"+this._ProductData[n].Id+"']").removeClass("selected"),t("[data-tds-product='"+this._ProductData[n].Id+"']").removeClass("selected")):(t("[data-tds-key='"+this._ProductData[n].Id+"']").remove(),t("[data-tds-product='"+this._ProductData[n].Id+"']").remove())}else console.log("null");else if(e!=s&&i!=s){for(n=0;n<e.length;n++)t("[data-tds-product='"+e[n]+"']").addClass("selected");for(n=0;n<i.length;n++)t("[data-tds-element='"+i[n]+"']").addClass("selected");for(a=[],n=0;n<this._ProductData.length;n++)for(o=0;o<this._ProductData[n].Options.length;o++)for(r=0;r<this._ProductData[n].Options[o].Features.length;r++)for(d=0;d<i.length;d++)if(i[d]==this._ProductData[n].Options[o].Features[r].Id){if(-1!=t.inArray(this._ProductData[n].Options[o].Id,a))continue;a.push(this._ProductData[n].Options[o].Id)}for(n=0;n<a.length;n++)t("[data-tds-option='"+a[n]+"']").addClass("selected");for(n=0;n<this._ProductData.length;n++)if(t("[data-tds-key='"+this._ProductData[n].Id+"']").hasClass("selected")||t("[data-tds-product='"+this._ProductData[n].Id+"']").hasClass("selected")){for(o=0;o<this._ProductData[n].Options.length;o++){t("[data-tds-option='"+this._ProductData[n].Options[o].Id+"']").hasClass("selected")||t("[data-tds-option='"+this._ProductData[n].Options[o].Id+"']").remove();for(r=0;r<this._ProductData[n].Options[o].Features.length;r++)t("[data-tds-element='"+this._ProductData[n].Options[o].Features[r].Id+"']").hasClass("selected")?t("[data-tds-element='"+this._ProductData[n].Options[o].Features[r].Id+"']").removeClass("selected"):t("[data-tds-element='"+this._ProductData[n].Options[o].Features[r].Id+"']").remove()}t("[data-tds-key='"+this._ProductData[n].Id+"']").removeClass("selected"),t("[data-tds-product='"+this._ProductData[n].Id+"']").removeClass("selected")}else t("[data-tds-key='"+this._ProductData[n].Id+"']").remove(),t("[data-tds-product='"+this._ProductData[n].Id+"']").remove()}else if(e!=s&&i==s){for(n=0;n<e.length;n++)t("[data-tds-product='"+e[n]+"']").addClass("selected");for(n=0;n<this._ProductData.length;n++)t("[data-tds-key='"+this._ProductData[n].Id+"']").hasClass("selected")||t("[data-tds-product='"+this._ProductData[n].Id+"']").hasClass("selected")?(t("[data-tds-key='"+this._ProductData[n].Id+"']").removeClass("selected"),t("[data-tds-product='"+this._ProductData[n].Id+"']").removeClass("selected")):(t("[data-tds-key='"+this._ProductData[n].Id+"']").remove(),t("[data-tds-product='"+this._ProductData[n].Id+"']").remove())}else console.log("null");return null},GetCall:function(e){var i=JSON.stringify(this._RenderObject),s=JSON.parse(i);return s[t("[data-tds-element='"+e+"']").attr("data-tds-key")].Id=e,this._drapingUrl(s,!0,!0)},SetTexture:function(e){var i=this;return t.each(e,(function(t,e){for(var s=!1,n=0;n<i._LibConfig.length;n++){if(i._LibConfig[n].Options.indexOf(t)>-1){for(var a=0;a<i._LibConfig[n].Options.length;a++)i._RenderObject[i._LibConfig[n].Options[a]].Swatch=e;i._LibConfig[n].Swatch=e,s=!0}}s?i.LibConfigTexture(e,t):i.Texture(e,!0)})),!0}};var d={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370db",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#db7093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};a.defaults=a.prototype.defaults,t.fn[n]=function(e){var i,o=arguments;return e===s||"object"==typeof e?this.each((function(){t.data(this,"plugin_"+n)||t.data(this,"plugin_"+n,new a(this,e))})).data("plugin_"+n):"string"==typeof e&&"_"!==e[0]&&"init"!==e?(this.each((function(){var s=t.data(this,"plugin_"+n);s instanceof a&&"function"==typeof s[e]&&(i=s[e].apply(s,Array.prototype.slice.call(o,1)))})),i!==s?i.data("plugin_"+n):this.data("plugin_"+n)):void 0}}(window.jQuery,window,document);